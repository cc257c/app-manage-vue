import{a as N,s as W,b as $,dL as A,f as i,i as e,n as l,at as y,cs as F,av as L,dd as R,ey as V,bd as k,aB as z}from"./index.da8cb631.js";import{D as b}from"./index.f0b7df47.js";import{g as q}from"./get.8113fc0b.js";function G(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!F(n)}const H={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:n=>["small","default","middle",void 0].includes(n),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var J=N({name:"Description",props:H,emits:["register"],setup(n,{slots:C,emit:D}){const u=W(null),{prefixCls:O}=$("description"),v=A(),p=i(()=>({...n,...e(u)})),c=i(()=>({...e(p),title:void 0})),j=i(()=>!!e(p).title),P=i(()=>({canExpand:!1,...e(c).collapseOptions})),S=i(()=>({...e(v),...e(c)}));function _(t){u.value={...e(u),...t}}function w({label:t,labelMinWidth:a,labelStyle:s}){if(!s&&!a)return t;const r={...s,minWidth:`${a}px `};return l("div",{style:r},[t])}function B(){const{schema:t,data:a}=e(c);return e(t).map(s=>{const{render:r,field:f,span:I,show:m,contentMinWidth:h}=s;if(m&&y(m)&&!m(a))return null;const x=()=>{const o=e(c)?.data;if(!o)return null;const g=q(o,f);return g&&!k(o).hasOwnProperty(f)?y(r)?r("",o):"":y(r)?r(g,o):g??""},M=h;return l(b.Item,{label:w(s),key:f,span:I},{default:()=>{if(!h)return x();const o={minWidth:`${M}px`};return l("div",{style:o},[x()])}})}).filter(s=>!!s)}const d=()=>{let t;return l(b,L({class:`${O}`},e(S)),G(t=B())?t:{default:()=>[t]})},E=()=>{const t=n.useCollapse?d():l("div",null,[d()]);if(!n.useCollapse)return t;const{canExpand:a,helpMessage:s}=e(P),{title:r}=e(p);return l(V,{title:r,canExpan:a,helpMessage:s},{default:()=>t,action:()=>R(C,"action")})};return D("register",{setDescProps:_}),()=>e(j)?E():d()}});const X=z(J);export{X as D};
