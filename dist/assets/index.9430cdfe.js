import{_ as E,af as w,a as se,t as Ee,s as D,aD as pe,ah as J,Z as A,c0 as be,f as X,c1 as De,W as ce,N as M,n as g,X as _,c2 as ge,c3 as je,c4 as Me,am as Ce,c5 as _e,aG as ze,aa as xe,V as Ie,T as Le,Y as Be,c6 as oe,S as Fe,c7 as le,c8 as Ve}from"./index.da8cb631.js";var ke=function(){return{prefixCls:String,width:w.oneOfType([w.string,w.number]),height:w.oneOfType([w.string,w.number]),style:{type:Object,default:void 0},class:String,placement:{type:String},wrapperClassName:String,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:String,ease:String,showMask:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},afterVisibleChange:Function,keyboard:{type:Boolean,default:void 0},contentWrapperStyle:{type:Object,default:void 0},autofocus:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0}}},Ae=function(){return E(E({},ke()),{forceRender:{type:Boolean,default:void 0},getContainer:w.oneOfType([w.string,w.func,w.object,w.looseBool])})},He=function(){return E(E({},ke()),{getContainer:Function,getOpenCount:Function,scrollLocker:w.any,switchScrollingEffect:Function})};function We(r){return Array.isArray(r)?r:[r]}var Se={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},Re=Object.keys(Se).filter(function(r){if(typeof document>"u")return!1;var e=document.getElementsByTagName("html")[0];return r in(e?e.style:{})})[0],ue=Se[Re];function fe(r,e,l,o){r.addEventListener?r.addEventListener(e,l,o):r.attachEvent&&r.attachEvent("on".concat(e),l)}function ve(r,e,l,o){r.removeEventListener?r.removeEventListener(e,l,o):r.attachEvent&&r.detachEvent("on".concat(e),l)}function $e(r,e){var l=typeof r=="function"?r(e):r;return Array.isArray(l)?l.length===2?l:[l[0],l[1]]:[l]}var he=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ie=!(typeof window<"u"&&window.document&&window.document.createElement),Xe=function r(e,l,o,i){if(!l||l===document||l instanceof Document)return!1;if(l===e.parentNode)return!0;var x=Math.max(Math.abs(o),Math.abs(i))===Math.abs(i),P=Math.max(Math.abs(o),Math.abs(i))===Math.abs(o),T=l.scrollHeight-l.clientHeight,f=l.scrollWidth-l.clientWidth,m=document.defaultView.getComputedStyle(l),k=m.overflowY==="auto"||m.overflowY==="scroll",b=m.overflowX==="auto"||m.overflowX==="scroll",S=T&&k,N=f&&b;return x&&(!S||S&&(l.scrollTop>=T&&i<0||l.scrollTop<=0&&i>0))||P&&(!N||N&&(l.scrollLeft>=f&&o<0||l.scrollLeft<=0&&o>0))?r(e,l.parentNode,o,i):!1},Ye=globalThis&&globalThis.__rest||function(r,e){var l={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(l[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(l[o[i]]=r[o[i]]);return l},$={},Ke=se({inheritAttrs:!1,props:He(),emits:["close","handleClick","change"],setup:function(e,l){var o=l.emit,i=l.slots,x=Ee({startPos:{x:null,y:null}}),P,T=D(),f=D(),m=D(),k=D(),b=D(),S=[],N="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)),I=!ie&&Me?{passive:!1}:!1;pe(function(){J(function(){var n,t=e.open,a=e.getContainer,u=e.showMask,d=e.autofocus,h=a?.();c(e),t&&(h&&h.parentNode===document.body&&($[N]=t),R(),J(function(){d&&z()}),u&&((n=e.scrollLocker)===null||n===void 0||n.lock()))})}),A(function(){return e.level},function(){c(e)},{flush:"post"}),A(function(){return e.open},function(){var n=e.open,t=e.getContainer,a=e.scrollLocker,u=e.showMask,d=e.autofocus,h=t?.();h&&h.parentNode===document.body&&($[N]=!!n),R(),n?(d&&z(),u&&a?.lock()):a?.unLock()},{flush:"post"}),be(function(){var n,t=e.open;delete $[N],t&&(Z(!1),document.body.style.touchAction=""),(n=e.scrollLocker)===null||n===void 0||n.unLock()}),A(function(){return e.placement},function(n){n&&(b.value=null)});var z=function(){var t,a;(a=(t=f.value)===null||t===void 0?void 0:t.focus)===null||a===void 0||a.call(t)},L=function(t){if(t.touches.length>1){x.startPos=null;return}x.startPos={x:t.touches[0].clientX,y:t.touches[0].clientY}},B=function(t){if(!(t.changedTouches.length>1||!x.startPos)){var a=t.currentTarget,u=t.changedTouches[0].clientX-x.startPos.x,d=t.changedTouches[0].clientY-x.startPos.y;(a===m.value||a===k.value||a===b.value&&Xe(a,t.target,u,d))&&t.cancelable&&t.preventDefault()}},W=function n(t){var a=t.target;ve(a,ue,n),a.style.transition=""},Y=function(t){o("close",t)},K=function(t){t.keyCode===je.ESC&&(t.stopPropagation(),Y(t))},Q=function(t){var a=e.open,u=e.afterVisibleChange;t.target===T.value&&t.propertyName.match(/transform$/)&&(f.value.style.transition="",!a&&v()&&(document.body.style.overflowX="",m.value&&(m.value.style.left="",m.value.style.width="")),u&&u(!!a))},U=X(function(){var n=e.placement,t=n==="left"||n==="right",a="translate".concat(t?"X":"Y");return{isHorizontal:t,placementName:a}}),R=function(){var t=e.open,a=e.width,u=e.height,d=U.value,h=d.isHorizontal,y=d.placementName,p=b.value?b.value.getBoundingClientRect()[h?"width":"height"]:0,O=(h?a:u)||p;ee(t,y,O)},Z=function(t,a,u,d){var h=e.placement,y=e.levelMove,p=e.duration,O=e.ease,j=e.showMask;S.forEach(function(H){H.style.transition="transform ".concat(p," ").concat(O),fe(H,ue,W);var F=t?u:0;if(y){var q=$e(y,{target:H,open:t});F=t?q[0]:q[1]||0}var G=typeof F=="number"?"".concat(F,"px"):F,V=h==="left"||h==="top"?G:"-".concat(G);V=j&&h==="right"&&d?"calc(".concat(V," + ").concat(d,"px)"):V,H.style.transform=F?"".concat(a,"(").concat(V,")"):""})},ee=function(t,a,u){if(!ie){var d=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?De(!0):0;Z(t,a,u,d),te(d)}o("change",t)},te=function(t){var a=e.getContainer,u=e.showMask,d=e.open,h=a?.();if(h&&h.parentNode===document.body&&u){var y=["touchstart"],p=[document.body,m.value,k.value,b.value];d&&document.body.style.overflow!=="hidden"?(t&&ae(t),document.body.style.touchAction="none",p.forEach(function(O,j){!O||fe(O,y[j]||"touchmove",j?B:L,I)})):v()&&(document.body.style.touchAction="",t&&ne(t),p.forEach(function(O,j){!O||ve(O,y[j]||"touchmove",j?B:L,I)}))}},ae=function(t){var a=e.placement,u=e.duration,d=e.ease,h="width ".concat(u," ").concat(d),y="transform ".concat(u," ").concat(d);switch(f.value.style.transition="none",a){case"right":f.value.style.transform="translateX(-".concat(t,"px)");break;case"top":case"bottom":f.value.style.width="calc(100% - ".concat(t,"px)"),f.value.style.transform="translateZ(0)";break}clearTimeout(P),P=setTimeout(function(){f.value&&(f.value.style.transition="".concat(y,",").concat(h),f.value.style.width="",f.value.style.transform="")})},ne=function(t){var a=e.placement,u=e.duration,d=e.ease;f.value.style.transition="none";var h,y="width ".concat(u," ").concat(d),p="transform ".concat(u," ").concat(d);switch(a){case"left":{f.value.style.width="100%",y="width 0s ".concat(d," ").concat(u);break}case"right":{f.value.style.transform="translateX(".concat(t,"px)"),f.value.style.width="100%",y="width 0s ".concat(d," ").concat(u),m.value&&(m.value.style.left="-".concat(t,"px"),m.value.style.width="calc(100% + ".concat(t,"px)"));break}case"top":case"bottom":{f.value.style.width="calc(100% + ".concat(t,"px)"),f.value.style.height="100%",f.value.style.transform="translateZ(0)",h="height 0s ".concat(d," ").concat(u);break}}clearTimeout(P),P=setTimeout(function(){f.value&&(f.value.style.transition="".concat(p,",").concat(h?"".concat(h,","):"").concat(y),f.value.style.transform="",f.value.style.width="",f.value.style.height="")})},v=function(){return!Object.keys($).some(function(t){return $[t]})},c=function(t){var a=t.level,u=t.getContainer;if(!ie){var d=u?.(),h=d?d.parentNode:null;if(S=[],a==="all"){var y=h?Array.prototype.slice.call(h.children):[];y.forEach(function(p){p.nodeName!=="SCRIPT"&&p.nodeName!=="STYLE"&&p.nodeName!=="LINK"&&p!==d&&S.push(p)})}else a&&We(a).forEach(function(p){document.querySelectorAll(p).forEach(function(O){S.push(O)})})}},s=function(t){o("handleClick",t)},C=D(!1);return A(f,function(){J(function(){C.value=!0})}),function(){var n,t,a,u=e.width,d=e.height,h=e.open,y=e.prefixCls,p=e.placement;e.level,e.levelMove,e.ease,e.duration,e.getContainer,e.onChange,e.afterVisibleChange;var O=e.showMask,j=e.maskClosable,H=e.maskStyle,F=e.keyboard;e.getOpenCount,e.scrollLocker;var q=e.contentWrapperStyle,G=e.style,V=e.class,Oe=Ye(e,["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class"]),re=h&&C.value,Pe=ce(y,(n={},M(n,"".concat(y,"-").concat(p),!0),M(n,"".concat(y,"-open"),re),M(n,V,!!V),M(n,"no-mask",!O),n)),Ne=U.value.placementName,Te=p==="left"||p==="top"?"-100%":"100%",de=re?"":"".concat(Ne,"(").concat(Te,")");return g("div",_(_({},ge(Oe,["switchScrollingEffect","autofocus"])),{},{tabindex:-1,class:Pe,style:G,ref:f,onKeydown:re&&F?K:void 0,onTransitionend:Q}),[O&&g("div",{class:"".concat(y,"-mask"),onClick:j?Y:void 0,style:H,ref:m},null),g("div",{class:"".concat(y,"-content-wrapper"),style:E({transform:de,msTransform:de,width:he(u)?"".concat(u,"px"):u,height:he(d)?"".concat(d,"px"):d},q),ref:T},[g("div",{class:"".concat(y,"-content"),ref:b},[(t=i.default)===null||t===void 0?void 0:t.call(i)]),i.handler?g("div",{onClick:s,ref:k},[(a=i.handler)===null||a===void 0?void 0:a.call(i)]):null])])}}}),we=Ke,me=globalThis&&globalThis.__rest||function(r,e){var l={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(l[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(l[o[i]]=r[o[i]]);return l},Ue=se({inheritAttrs:!1,props:Ce(Ae(),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:function(){},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],slots:["handler"],setup:function(e,l){var o=l.emit,i=l.slots,x=D(null),P=function(m){o("handleClick",m)},T=function(m){o("close",m)};return function(){var f=e.getContainer,m=e.wrapperClassName,k=e.forceRender,b=me(e,["getContainer","wrapperClassName","forceRender"]),S=null;if(!f)return g("div",{class:m,ref:x},[g(we,_(_({},b),{},{open:e.open,getContainer:function(){return x.value},onClose:T,onHandleClick:P}),i)]);var N=!!i.handler||k;return(N||e.open||x.value)&&(S=g(_e,{visible:e.open,forceRender:N,getContainer:f,wrapperClassName:m},{default:function(z){var L=z.visible,B=z.afterClose,W=me(z,["visible","afterClose"]);return g(we,_(_(_({ref:x},b),W),{},{open:L!==void 0?L:e.open,afterVisibleChange:B!==void 0?B:e.afterVisibleChange,onClose:T,onHandleClick:P}),i)}})),S}}}),Ze=Ue,qe=globalThis&&globalThis.__rest||function(r,e){var l={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(l[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(l[o[i]]=r[o[i]]);return l},Ge=xe("top","right","bottom","left");xe("default","large");var ye={distance:180},Je=function(){return{autofocus:{type:Boolean,default:void 0},closable:{type:Boolean,default:void 0},closeIcon:w.any,destroyOnClose:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},getContainer:{type:[String,Function,Boolean,Object],default:void 0},maskClosable:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},wrapStyle:{type:Object,default:void 0},style:{type:Object,default:void 0},class:w.any,wrapClassName:String,size:{type:String},drawerStyle:{type:Object,default:void 0},headerStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},contentWrapperStyle:{type:Object,default:void 0},title:w.any,visible:{type:Boolean,default:void 0},width:w.oneOfType([w.string,w.number]),height:w.oneOfType([w.string,w.number]),zIndex:Number,prefixCls:String,push:w.oneOfType([w.looseBool,{type:Object}]),placement:w.oneOf(Ge),keyboard:{type:Boolean,default:void 0},extra:w.any,footer:w.any,footerStyle:{type:Object,default:void 0},level:w.any,levelMove:{type:[Number,Array,Function]},handle:w.any,afterVisibleChange:Function,onAfterVisibleChange:Function,"onUpdate:visible":Function,onClose:Function}},Qe=se({name:"ADrawer",inheritAttrs:!1,props:Ce(Je(),{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:ye}),slots:["closeIcon","title","extra","footer","handle"],setup:function(e,l){var o=l.emit,i=l.slots,x=l.attrs,P=D(!1),T=D(!1),f=D(null),m=D(!1),k=D(!1);A(function(){return e.visible},function(v){v?m.value=!0:k.value=!1},{immediate:!0}),A([function(){return e.visible},m],function(v){var c=Ie(v,1),s=c[0];s&&m.value&&(k.value=!0)},{immediate:!0});var b=Le("parentDrawerOpts",null),S=Be("drawer",e),N=S.prefixCls,I=S.getPopupContainer,z=S.direction,L=X(function(){return e.getContainer===void 0&&I.value?function(){return I.value(document.body)}:e.getContainer});oe(!e.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead"),oe(e.wrapStyle===void 0,"Drawer","`wrapStyle` prop is deprecated, please use `style` instead"),oe(e.wrapClassName===void 0,"Drawer","`wrapClassName` prop is deprecated, please use `class` instead");var B=function(){P.value=!0},W=function(){P.value=!1,J(function(){Y()})};Fe("parentDrawerOpts",{setPush:B,setPull:W}),pe(function(){e.visible&&b&&b.setPush()}),be(function(){b&&b.setPull()}),A(k,function(){b&&(k.value?b.setPush():b.setPull())},{flush:"post"});var Y=function(){var c,s;(s=(c=f.value)===null||c===void 0?void 0:c.domFocus)===null||s===void 0||s.call(c)},K=function(c){o("update:visible",!1),o("close",c)},Q=function(c){var s;c||(T.value===!1&&(T.value=!0),e.destroyOnClose&&(m.value=!1)),(s=e.afterVisibleChange)===null||s===void 0||s.call(e,c),o("afterVisibleChange",c)},U=X(function(){var v=e.push,c=e.placement,s;return typeof v=="boolean"?s=v?ye.distance:0:s=v.distance,s=parseFloat(String(s||0)),c==="left"||c==="right"?"translateX(".concat(c==="left"?s:-s,"px)"):c==="top"||c==="bottom"?"translateY(".concat(c==="top"?s:-s,"px)"):null}),R=X(function(){var v=e.mask,c=e.placement,s=e.size,C=s===void 0?"default":s,n=e.width,t=e.height;if(!k.value&&!v)return{};var a={};if(c==="left"||c==="right"){var u=C==="large"?736:378;a.width=typeof n>"u"?u:n,a.width=typeof a.width=="string"?a.width:"".concat(a.width,"px")}else{var d=C==="large"?736:378;a.height=typeof t>"u"?d:t,a.height=typeof a.height=="string"?a.height:"".concat(a.height,"px")}return a}),Z=X(function(){var v=e.zIndex,c=e.wrapStyle,s=e.mask,C=e.style,n=s?{}:R.value;return E(E(E({zIndex:v,transform:P.value?U.value:void 0},n),c),C)}),ee=function(c){var s=e.closable,C=e.headerStyle,n=le(i,e,"extra"),t=le(i,e,"title");return!t&&!s?null:g("div",{class:ce("".concat(c,"-header"),M({},"".concat(c,"-header-close-only"),s&&!t&&!n)),style:C},[g("div",{class:"".concat(c,"-header-title")},[te(c),t&&g("div",{class:"".concat(c,"-title")},[t])]),n&&g("div",{class:"".concat(c,"-extra")},[n])])},te=function(c){var s,C=e.closable,n=i.closeIcon?(s=i.closeIcon)===null||s===void 0?void 0:s.call(i):e.closeIcon;return C&&g("button",{key:"closer",onClick:K,"aria-label":"Close",class:"".concat(c,"-close")},[n===void 0?g(Ve,null,null):n])},ae=function(c){var s;if(T.value&&!e.forceRender&&!m.value)return null;var C=e.bodyStyle,n=e.drawerStyle;return g("div",{class:"".concat(c,"-wrapper-body"),style:n},[ee(c),g("div",{key:"body",class:"".concat(c,"-body"),style:C},[(s=i.default)===null||s===void 0?void 0:s.call(i)]),ne(c)])},ne=function(c){var s=le(i,e,"footer");if(!s)return null;var C="".concat(c,"-footer");return g("div",{class:C,style:e.footerStyle},[s])};return function(){var v;e.width,e.height;var c=e.placement,s=e.mask,C=e.wrapClassName,n=e.class,t=e.forceRender,a=qe(e,["width","height","placement","mask","wrapClassName","class","forceRender"]),u=s?R.value:{},d=s?"":"no-mask",h=E(E(E(E({},x),ge(a,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","wrapStyle","onAfterVisibleChange","onClose","onUpdate:visible","visible"])),u),{forceRender:t,onClose:K,afterVisibleChange:Q,handler:!1,prefixCls:N.value,open:k.value,showMask:s,placement:c,class:ce((v={},M(v,n,n),M(v,C,!!C),M(v,d,!!d),M(v,"".concat(N.value,"-rtl"),z.value==="rtl"),v)),style:Z.value,ref:f});return g(Ze,_(_({},h),{},{getContainer:L.value}),{handler:e.handle?function(){return e.handle}:i.handle,default:function(){return ae(N.value)}})}}}),tt=ze(Qe);export{tt as D};
