import{c9 as c,ca as e,cb as t,r as a}from"./index.da8cb631.js";const l=c({id:"app-lock",state:()=>({lockInfo:e.getLocal(t)}),getters:{getLockInfo(){return this.lockInfo}},actions:{setLockInfo(o){this.lockInfo=Object.assign({},this.lockInfo,o),e.setLocal(t,this.lockInfo,!0)},resetLockInfo(){e.removeLocal(t,!0),this.lockInfo=null},async unLock(o){const s=a();return this.lockInfo?.pwd===o?(this.resetLockInfo(),!0):await(async()=>{try{const n=s.getUserInfo?.username,r=await s.login({username:n,password:o,goHome:!1,mode:"none"});return r&&this.resetLockInfo(),r}catch{return!1}})()}}});export{l as u};
