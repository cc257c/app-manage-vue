import{a as v,B as D}from"./index.658b646d.js";import{B as I}from"./BasicForm.4eff3114.js";import{u as w}from"./useForm.8ce8a1bf.js";import{c as C}from"./config.f9178ad3.js";import{t as g,as as b,a as x,s as y,au as h,o as B,j as P,x as i,n as d,i as s,av as E,y as k}from"./index.da8cb631.js";import{a as R}from"./proxy.5c2e653a.js";const o=g({api_version:[],app_status:[],status:[]});async function S(){let{api_version:t,app_status:r,status:a}=await C();o.api_version=t,o.app_status=r,o.status=a}await S();const A=[{label:"\u963F\u91CC\u4E91ECSID",field:"server_id",component:"Input",required:!0},{label:"IP",field:"ip",component:"Input",required:!0},{label:"\u5F00\u59CB\u65F6\u95F4",field:"start_date",component:"DatePicker",required:!0},{label:"\u5230\u671F\u65F6\u95F4",field:"due_date",component:"DatePicker"},{label:"\u5907\u6CE8",field:"note",component:"Input"}],H=[{title:"ID",dataIndex:"id",defaultHidden:!0},{title:"\u963F\u91CC\u4E91ECSID",dataIndex:"server_id"},{title:"APP",dataIndex:"app_id"},{title:"IP",dataIndex:"ip"},{title:"\u5F00\u59CB\u65F6\u95F4",dataIndex:"start_date"},{title:"\u5230\u671F\u65F6\u95F4",dataIndex:"due_date"},{title:"\u72B6\u6001",dataIndex:"status",customRender:({text:t})=>t==1?"\u4F7F\u7528\u4E2D":"\u5E9F\u5F03"},{title:"\u5907\u6CE8",dataIndex:"note"}];const j=k("\u4FDD\u5B58"),q=x({__name:"DataDrawer",emits:["successAdd","register"],setup(t,{emit:r}){const a=y(),[l,{closeDrawer:c,changeLoading:n}]=v(async e=>{a.value=e.app_id}),[p,{validate:_,resetFields:f}]=w({schemas:A,showActionButtonGroup:!1,labelWidth:"120px",baseColProps:{span:24}});async function m(){try{const e=await _();n(!0),await R({...e,app_id:a.value}),u(),r("successAdd")}finally{n(!1)}}function u(){c(),f()}return(e,N)=>{const F=h("a-button");return B(),P(s(D),E(e.$attrs,{onRegister:s(l),showFooter:!1,width:"50%",onClose:u}),{default:i(()=>[d(s(I),{onRegister:s(p)},null,8,["onRegister"]),d(F,{type:"primary",style:{position:"absolute",left:"50%",transform:"translateX(-50%)"},onClick:m},{default:i(()=>[j]),_:1})]),_:1},16,["onRegister"])}}});var L=b(q,[["__scopeId","data-v-636c7eb8"]]),M=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{L as D,M as a,H as c};
