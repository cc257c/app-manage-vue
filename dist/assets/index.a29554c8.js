import{e0 as E,a as L,s as f,c as v,ew as T,Z as D,ah as A,a5 as R,au as B,o as s,h as n,F as V,ax as I,w as S,v as j,n as t,i as r,x as e,y as p,z as l,j as M,k as N}from"./index.da8cb631.js";import F from"./DetailModal.497f7783.js";import{B as $}from"./TableImg.e96a1b1c.js";import{T as z}from"./BasicForm.4eff3114.js";import{u as H}from"./useTable.5eea1741.js";import{b as Z}from"./index.59b50bd4.js";import{getColumns as q}from"./data.6613ffe3.js";import"./index.90f46760.js";import"./index.f0b7df47.js";import"./get.8113fc0b.js";import"./useDescription.0537ad68.js";import"./index.b939f3ed.js";import"./Checkbox.f0824c7f.js";import"./index.6f5a4fde.js";import"./index.d148813f.js";import"./eagerComputed.d5d9fa51.js";import"./useForm.8ce8a1bf.js";import"./index.4fb91daf.js";import"./index.13fe2a9f.js";import"./index.2a671509.js";import"./useSize.3251a39b.js";import"./index.0961799f.js";import"./useFlexGapSupport.63e06d71.js";import"./useWindowSizeFn.c221d32f.js";import"./useContentViewHeight.f6c045c6.js";import"./ArrowLeftOutlined.da248543.js";import"./index.17402399.js";import"./transButton.af3d1515.js";import"./index.7035eacc.js";import"./index.01a084a1.js";import"./index.c918b06b.js";import"./uuid.2b29000c.js";import"./index.f175a2ab.js";import"./_baseIteratee.58bea659.js";import"./DeleteOutlined.4914d5b2.js";import"./index.3443a9a6.js";import"./useRefs.4b50a505.js";import"./Form.57dd9f37.js";import"./Col.c878cfca.js";import"./index.5a91b512.js";import"./sortable.esm.2632adaa.js";import"./RedoOutlined.5cc8f7d5.js";import"./FullscreenOutlined.556a26d5.js";import"./index.e4b8d817.js";import"./fromPairs.84aabb58.js";import"./scrollTo.d80ece32.js";import"./index.e46a37bc.js";import"./index.1f145165.js";/* empty css              *//* empty css              */import"./index.90b5efc0.js";import"./index.c80628df.js";import"./download.8277b1ca.js";import"./base64Conver.08b9f4ec.js";import"./index.0e6e8503.js";import"./index.36948379.js";import"./uniqBy.65755c80.js";const G=()=>E.get({url:"/error"}),J={class:"p-4"},K=["src"],Xr=L({__name:"index",setup(O){const c=f(),u=f([]),{t:o}=v(),d=T(),[g,{setTableData:_}]=H({title:o("sys.errorLog.tableTitle"),columns:q(),actionColumn:{width:80,title:"Action",dataIndex:"action"}}),[y,{openModal:b}]=Z();D(()=>d.getErrorLogInfoList,i=>{A(()=>{_(R(i))})},{immediate:!0});function h(i){c.value=i,b(!0)}function k(){throw new Error("fire vue error!")}function w(){u.value.push(`${new Date().getTime()}.png`)}async function x(){await G()}return(i,P)=>{const m=B("a-button");return s(),n("div",J,[(s(!0),n(V,null,I(u.value,a=>S((s(),n("img",{key:a,src:a,alt:""},null,8,K)),[[j,!1]])),128)),t(F,{info:c.value,onRegister:r(y)},null,8,["info","onRegister"]),t(r($),{onRegister:r(g),class:"error-handle-table"},{toolbar:e(()=>[t(m,{onClick:k,type:"primary"},{default:e(()=>[p(l(r(o)("sys.errorLog.fireVueError")),1)]),_:1}),t(m,{onClick:w,type:"primary"},{default:e(()=>[p(l(r(o)("sys.errorLog.fireResourceError")),1)]),_:1}),t(m,{onClick:x,type:"primary"},{default:e(()=>[p(l(r(o)("sys.errorLog.fireAjaxError")),1)]),_:1})]),bodyCell:e(({column:a,record:C})=>[a.key==="action"?(s(),M(r(z),{key:0,actions:[{label:r(o)("sys.errorLog.tableActionDesc"),onClick:h.bind(null,C)}]},null,8,["actions"])):N("",!0)]),_:1},8,["onRegister"])])}}});export{Xr as default};
