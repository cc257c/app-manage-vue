import{as as B,a as C,b as w,r as y,f as u,o as $,j as x,x as f,m as o,q as r,z as _,n as h,y as F,av as L,c as M,au as n}from"./index.da8cb631.js";import{B as S,a as I}from"./index.59b50bd4.js";import{B as N}from"./BasicForm.4eff3114.js";import{u as R}from"./useForm.8ce8a1bf.js";import{u as P}from"./lock.3ba00c32.js";import{h as U}from"./header.d801b988.js";import"./useWindowSizeFn.c221d32f.js";import"./FullscreenOutlined.556a26d5.js";/* empty css              *//* empty css              */import"./index.5a91b512.js";import"./index.b939f3ed.js";import"./Checkbox.f0824c7f.js";import"./index.6f5a4fde.js";import"./index.c918b06b.js";import"./index.7035eacc.js";import"./index.01a084a1.js";import"./index.90b5efc0.js";import"./get.8113fc0b.js";import"./index.d148813f.js";import"./eagerComputed.d5d9fa51.js";import"./index.f175a2ab.js";import"./_baseIteratee.58bea659.js";import"./DeleteOutlined.4914d5b2.js";import"./index.3443a9a6.js";import"./useRefs.4b50a505.js";import"./Form.57dd9f37.js";import"./Col.c878cfca.js";import"./useFlexGapSupport.63e06d71.js";import"./useSize.3251a39b.js";import"./transButton.af3d1515.js";import"./index.0961799f.js";import"./index.c80628df.js";import"./index.e4b8d817.js";import"./uuid.2b29000c.js";import"./download.8277b1ca.js";import"./base64Conver.08b9f4ec.js";import"./index.0e6e8503.js";import"./index.36948379.js";import"./uniqBy.65755c80.js";const V=C({name:"LockModal",components:{BasicModal:S,BasicForm:N},setup(){const{t:e}=M(),{prefixCls:p}=w("header-lock-modal"),a=y(),l=P(),m=u(()=>a.getUserInfo?.realName),[c,{closeModal:t}]=I(),[s,{validateFields:i,resetFields:g}]=R({showActionButtonGroup:!1,schemas:[{field:"password",label:e("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]});async function k(){const b=(await i()).password;t(),l.setLockInfo({isLock:!0,pwd:b}),await g()}const v=u(()=>{const{avatar:d}=a.getUserInfo;return d||U});return{t:e,prefixCls:p,getRealName:m,register:c,registerForm:s,handleLock:k,avatar:v}}}),q=["src"];function z(e,p,a,l,m,c){const t=n("BasicForm"),s=n("a-button"),i=n("BasicModal");return $(),x(i,L({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:f(()=>[o("div",{class:r(`${e.prefixCls}__entry`)},[o("div",{class:r(`${e.prefixCls}__header`)},[o("img",{src:e.avatar,class:r(`${e.prefixCls}__header-img`)},null,10,q),o("p",{class:r(`${e.prefixCls}__header-name`)},_(e.getRealName),3)],2),h(t,{onRegister:e.registerForm},null,8,["onRegister"]),o("div",{class:r(`${e.prefixCls}__footer`)},[h(s,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:f(()=>[F(_(e.t("layout.header.lockScreenBtn")),1)]),_:1},8,["onClick"])],2)],2)]),_:1},16,["title","class","onRegister"])}var $e=B(V,[["render",z]]);export{$e as default};
