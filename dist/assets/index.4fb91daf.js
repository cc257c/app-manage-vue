import{n as s,b0 as ue,aG as pe,a as X,af as S,Y as fe,s as R,e2 as he,f as w,aE as ve,W as me,N as Z,e3 as be,cj as xe,a9 as ye,dG as we,b as re,b9 as _e,as as oe,o as j,h as q,m as U,ay as $,q as I,bn as ie,aD as He,ah as W,cw as Ce,i as C,d9 as ke,e4 as Pe,Z as le,aH as Fe,d1 as Se,aF as b,S as $e,aj as K,au as ee,j as te,aw as Be,ax as Re,x as N,az as Te,aA as ze,F as Ae,y as Oe,z as je,av as Ie,k as ae,aB as se}from"./index.da8cb631.js";import{B as Ee}from"./index.13fe2a9f.js";import{A as Ne}from"./index.2a671509.js";import{S as We}from"./index.0961799f.js";import{u as De}from"./useWindowSizeFn.c221d32f.js";import{a as Le}from"./useContentViewHeight.f6c045c6.js";import{A as Me}from"./ArrowLeftOutlined.da248543.js";import"./index.17402399.js";import{T as Ve}from"./transButton.af3d1515.js";var Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},Ze=Ge;function ne(e){for(var a=1;a<arguments.length;a++){var d=arguments[a]!=null?Object(arguments[a]):{},f=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(d).filter(function(n){return Object.getOwnPropertyDescriptor(d,n).enumerable}))),f.forEach(function(n){qe(e,n,d[n])})}return e}function qe(e,a,d){return a in e?Object.defineProperty(e,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[a]=d,e}var Y=function(a,d){var f=ne({},a,d.attrs);return s(ue,ne({},f,{icon:Ze}),null)};Y.displayName="ArrowRightOutlined";Y.inheritAttrs=!1;var Ue=Y,Xe=function(){return{backIcon:S.any,prefixCls:String,title:S.any,subTitle:S.any,breadcrumb:S.object,tags:S.any,footer:S.any,extra:S.any,avatar:S.object,ghost:{type:Boolean,default:void 0},onBack:Function}},Ye=X({name:"APageHeader",props:Xe(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(a,d){var f=d.emit,n=d.slots,x=fe("page-header",a),c=x.prefixCls,h=x.direction,y=x.pageHeader,k=R(!1),z=he(),_=function(t){var o=t.width;z.value||(k.value=o<768)},P=w(function(){var r,t,o;return(o=(r=a.ghost)!==null&&r!==void 0?r:(t=y.value)===null||t===void 0?void 0:t.ghost)!==null&&o!==void 0?o:!0}),F=function(){var t,o,i;return(i=(t=a.backIcon)!==null&&t!==void 0?t:(o=n.backIcon)===null||o===void 0?void 0:o.call(n))!==null&&i!==void 0?i:h.value==="rtl"?s(Ue,null,null):s(Me,null,null)},l=function(t){return!t||!a.onBack?null:s(we,{componentName:"PageHeader",children:function(i){var g=i.back;return s("div",{class:"".concat(c.value,"-back")},[s(Ve,{onClick:function(B){f("back",B)},class:"".concat(c.value,"-back-button"),"aria-label":g},{default:function(){return[t]}})])}},null)},H=function(){var t;return a.breadcrumb?s(Ee,a.breadcrumb,null):(t=n.breadcrumb)===null||t===void 0?void 0:t.call(n)},m=function(){var t,o,i,g,p,B,E,D,L,M=a.avatar,A=(t=a.title)!==null&&t!==void 0?t:(o=n.title)===null||o===void 0?void 0:o.call(n),O=(i=a.subTitle)!==null&&i!==void 0?i:(g=n.subTitle)===null||g===void 0?void 0:g.call(n),V=(p=a.tags)!==null&&p!==void 0?p:(B=n.tags)===null||B===void 0?void 0:B.call(n),G=(E=a.extra)!==null&&E!==void 0?E:(D=n.extra)===null||D===void 0?void 0:D.call(n),T="".concat(c.value,"-heading"),J=A||O||V||G;if(!J)return null;var ce=F(),Q=l(ce),ge=Q||M||J;return s("div",{class:T},[ge&&s("div",{class:"".concat(T,"-left")},[Q,M?s(Ne,M,null):(L=n.avatar)===null||L===void 0?void 0:L.call(n),A&&s("span",{class:"".concat(T,"-title"),title:typeof A=="string"?A:void 0},[A]),O&&s("span",{class:"".concat(T,"-sub-title"),title:typeof O=="string"?O:void 0},[O]),V&&s("span",{class:"".concat(T,"-tags")},[V])]),G&&s("span",{class:"".concat(T,"-extra")},[s(We,null,{default:function(){return[G]}})])])},u=function(){var t,o,i=(t=a.footer)!==null&&t!==void 0?t:ye((o=n.footer)===null||o===void 0?void 0:o.call(n));return be(i)?null:s("div",{class:"".concat(c.value,"-footer")},[i])},v=function(t){return s("div",{class:"".concat(c.value,"-content")},[t])};return function(){var r,t,o,i=((t=a.breadcrumb)===null||t===void 0?void 0:t.routes)||n.breadcrumb,g=a.footer||n.footer,p=ve((o=n.default)===null||o===void 0?void 0:o.call(n)),B=me(c.value,(r={"has-breadcrumb":i,"has-footer":g},Z(r,"".concat(c.value,"-ghost"),P.value),Z(r,"".concat(c.value,"-rtl"),h.value==="rtl"),Z(r,"".concat(c.value,"-compact"),k.value),r));return s(xe,{onResize:_},{default:function(){return[s("div",{class:B},[H(),m(),p.length?v(p):null,u()])]}})}}}),Je=pe(Ye);const Qe=X({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=re("page-footer"),{getCalcContentWidth:a}=_e();return{prefixCls:e,getCalcContentWidth:a}}});function Ke(e,a,d,f,n,x){return j(),q("div",{class:I(e.prefixCls),style:ie({width:e.getCalcContentWidth})},[U("div",{class:I(`${e.prefixCls}__left`)},[$(e.$slots,"left",{},void 0,!0)],2),$(e.$slots,"default",{},void 0,!0),U("div",{class:I(`${e.prefixCls}__right`)},[$(e.$slots,"right",{},void 0,!0)],2)],6)}var de=oe(Qe,[["render",Ke],["__scopeId","data-v-2c113217"]]);function et(e){let a;He(()=>{e(),W(()=>{a=!0})}),Ce(()=>{a&&e()})}function tt(e,a,d,f,n=0,x=R(0)){const c=R(null),{footerHeightRef:h}=Le();let y={useLayoutFooter:!0};const k=l=>{y=l};function z(){W(()=>{F()})}function _(l,H="all"){function m(r){return Number(r.replace(/[^\d]/g,""))}let u=0;const v="0px";if(l){const r=getComputedStyle(l),t=m(r?.marginTop??v),o=m(r?.marginBottom??v),i=m(r?.paddingTop??v),g=m(r?.paddingBottom??v);H==="all"?(u+=t,u+=o,u+=i,u+=g):H==="top"?(u+=t,u+=i):(u+=o,u+=g)}return u}function P(l){return l==null?null:l instanceof HTMLDivElement?l:l.$el}async function F(){if(!e.value)return;await W();const l=P(C(a));if(!l)return;const{bottomIncludeBody:H}=ke(l);let m=0;d.forEach(i=>{m+=P(C(i))?.offsetHeight??0});let u=_(l)??0;f.forEach(i=>{u+=_(P(C(i)))});let v=0;function r(i,g){if(i&&g){const p=i.parentElement;p&&(Fe(g)?p.classList.contains(g)?v+=_(p,"bottom"):(v+=_(p,"bottom"),r(p,g)):Se(g)&&g>0&&(v+=_(p,"bottom"),r(p,--g)))}}Pe(n)?r(l,C(n)):r(l,n);let t=H-C(h)-C(x)-m-u-v;const o=()=>{y.elements?.forEach(i=>{t+=P(C(i))?.offsetHeight??0})};y.useLayoutFooter&&C(h)>0,o(),c.value=t}return et(()=>{W(()=>{F()})}),De(()=>{F()},50,{immediate:!0}),le(()=>[h.value],()=>{F()},{flush:"post",immediate:!0}),{redoHeight:z,setCompensation:k,contentHeight:c}}const at=X({name:"PageWrapper",components:{PageFooter:de,PageHeader:Je},inheritAttrs:!1,props:{title:b.string,dense:b.bool,ghost:b.bool,content:b.string,contentStyle:{type:Object},contentBackground:b.bool,contentFullHeight:b.bool,contentClass:b.string,fixedHeight:b.bool,upwardSpace:b.oneOfType([b.number,b.string]).def(0)},setup(e,{slots:a,attrs:d}){const f=R(null),n=R(null),x=R(null),c=R(null),{prefixCls:h}=re("page-wrapper");$e(ot,w(()=>e.fixedHeight));const y=w(()=>e.contentFullHeight),k=w(()=>e.upwardSpace),{redoHeight:z,setCompensation:_,contentHeight:P}=tt(y,f,[n,c],[x],k);_({useLayoutFooter:!0,elements:[c]});const F=w(()=>[h,{[`${h}--dense`]:e.dense},d.class??{}]),l=w(()=>e.content||a?.headerContent||e.title||m.value.length),H=w(()=>a?.leftFooter||a?.rightFooter),m=w(()=>Object.keys(K(a,"default","leftFooter","rightFooter","headerContent"))),u=w(()=>{const{contentFullHeight:r,contentStyle:t,fixedHeight:o}=e;if(!r)return{...t};const i=`${C(P)}px`;return{...t,minHeight:i,...o?{height:i}:{}}}),v=w(()=>{const{contentBackground:r,contentClass:t}=e;return[`${h}-content`,t,{[`${h}-content-bg`]:r}]});return le(()=>[H.value],()=>{z()},{flush:"post",immediate:!0}),{getContentStyle:u,wrapperRef:f,headerRef:n,contentRef:x,footerRef:c,getClass:F,getHeaderSlots:m,prefixCls:h,getShowHeader:l,getShowFooter:H,omit:K,getContentClass:v}}});function nt(e,a,d,f,n,x){const c=ee("PageHeader"),h=ee("PageFooter");return j(),q("div",{class:I(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(j(),te(c,Ie({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),Be({default:N(()=>[e.content?(j(),q(Ae,{key:0},[Oe(je(e.content),1)],64)):$(e.$slots,"headerContent",{key:1})]),_:2},[Re(e.getHeaderSlots,y=>({name:y,fn:N(k=>[$(e.$slots,y,Te(ze(k||{})))])}))]),1040,["ghost","title"])):ae("",!0),U("div",{class:I(["overflow-hidden",e.getContentClass]),style:ie(e.getContentStyle),ref:"contentRef"},[$(e.$slots,"default")],6),e.getShowFooter?(j(),te(h,{key:1,ref:"footerRef"},{left:N(()=>[$(e.$slots,"leftFooter")]),right:N(()=>[$(e.$slots,"rightFooter")]),_:3},512)):ae("",!0)],2)}var rt=oe(at,[["render",nt]]);se(de);const vt=se(rt),ot="PageWrapperFixedHeight";export{ot as P,vt as a,et as o};
