import{a2 as x,i as c,fx as W,fy as w,a7 as v,s as y,fz as b,aq as $,dX as g,as as R,a as B,ey as I,au as C,o as z,j as M,x as m,n as u,y as k}from"./index.da8cb631.js";import{a as P}from"./index.4fb91daf.js";import"./index.13fe2a9f.js";import"./index.2a671509.js";import"./useSize.3251a39b.js";import"./eagerComputed.d5d9fa51.js";import"./index.0961799f.js";import"./useFlexGapSupport.63e06d71.js";import"./useWindowSizeFn.c221d32f.js";import"./useContentViewHeight.f6c045c6.js";import"./ArrowLeftOutlined.da248543.js";import"./index.17402399.js";import"./transButton.af3d1515.js";const S=Symbol("watermark-dom");function E(n=y(document.body)){const r=b(function(){const t=c(n);if(!t)return;const{clientHeight:e,clientWidth:o}=t;i({height:e,width:o})}),s=S.toString(),l=x(),f=()=>{const t=c(l);l.value=void 0;const e=c(n);!e||(t&&e.removeChild(t),W(e,r))};function _(t){const e=document.createElement("canvas"),o=300,d=240;Object.assign(e,{width:o,height:d});const a=e.getContext("2d");return a&&(a.rotate(-20*Math.PI/120),a.font="15px Vedana",a.fillStyle="rgba(0, 0, 0, 0.15)",a.textAlign="left",a.textBaseline="middle",a.fillText(t,o/20,d)),e.toDataURL("image/png")}function i(t={}){const e=c(l);!e||(g(t.width)&&(e.style.width=`${t.width}px`),g(t.height)&&(e.style.height=`${t.height}px`),g(t.str)&&(e.style.background=`url(${_(t.str)}) left top repeat`))}const p=t=>{if(c(l))return i({str:t}),s;const e=document.createElement("div");l.value=e,e.id=s,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const o=c(n);if(!o)return s;const{clientHeight:d,clientWidth:a}=o;return i({str:t,width:a,height:d}),o.appendChild(e),s};function h(t){p(t),w(document.documentElement,r),$()&&v(()=>{f()})}return{setWatermark:h,clear:f}}const L=B({components:{CollapseContainer:I,PageWrapper:P},setup(){const n=y(null),{setWatermark:r,clear:s}=E();return{setWatermark:r,clear:s,areaRef:n}}}),N=k(" Create "),T=k(" Clear "),V=k(" Reset ");function j(n,r,s,l,f,_){const i=C("a-button"),p=C("CollapseContainer"),h=C("PageWrapper");return z(),M(h,{title:"\u6C34\u5370\u793A\u4F8B"},{default:m(()=>[u(p,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:m(()=>[u(i,{type:"primary",class:"mr-2",onClick:r[0]||(r[0]=t=>n.setWatermark("WaterMark Info"))},{default:m(()=>[N]),_:1}),u(i,{color:"error",class:"mr-2",onClick:n.clear},{default:m(()=>[T]),_:1},8,["onClick"]),u(i,{color:"warning",class:"mr-2",onClick:r[1]||(r[1]=t=>n.setWatermark("WaterMark Info New"))},{default:m(()=>[V]),_:1})]),_:1})]),_:1})}var Z=R(L,[["render",j]]);export{Z as default};
